<section class="signup">
  <div class="card-header col-lg-4 m-auto">
    <h3 style="text-align: center;">Student Sign Up</h3>
  </div>
  <div class="login col-lg-4 m-auto shadow-lg">

    <form [formGroup]='registerStudForm' (ngSubmit)="registerStudForm.valid && registerStud()" autocomplete="off">

      <div class="form-group">
        <input 
          [class.is-invalid]='registerStudForm.get("username").errors 
            && registerStudForm.get("username").touched'
          formControlName='username' 
          class="form-control shadow-sm" 
          type="email"
          pattern="^[a-zA-Z0-9_.+-]+@[A-zA-Z0-9-]+\.edu$" 
          placeholder="Username (college email)">
          <div *ngIf="registerStudForm.get('username').hasError('required')"
            class="invalid-feedback">Please enter a username</div> 
          <div *ngIf="registerStudForm.get('username').hasError('pattern')"
            class="invalid-feedback">Username must be your college email</div> 
      </div>

      <app-text-input [formControl]='registerStudForm.controls["password"]'
        [label]='"Password"'
        [type]='"password"'>
      </app-text-input>

      <app-text-input [formControl]='registerStudForm.controls["confirmPassword"]'
        [label]='"Confirm Password"'
        [type]='"password"'>
      </app-text-input>

      <div class="form-group">
        <input 
          [class.is-invalid]='registerStudForm.get("registerCode").errors 
            && registerStudForm.get("registerCode").touched'
          formControlName='registerCode' 
          class="form-control shadow-sm" 
          type="text"
          pattern="(studentconnect)"
          placeholder="Register Code">
          <div *ngIf="registerStudForm.get('registerCode').hasError('required')"
            class="invalid-feedback">Please enter a register code</div> 
          <div *ngIf="registerStudForm.get('registerCode').hasError('pattern')"
            class="invalid-feedback">If you do not have a register code please email: info@iowacollegefoundation.org</div> 
      </div>

      <app-text-input [formControl]='registerStudForm.controls["firstName"]'
        [label]='"First Name"'>
      </app-text-input>

      <app-text-input [formControl]='registerStudForm.controls["lastName"]'
        [label]='"Last Name"'>
      </app-text-input>
      
      <app-text-input [formControl]='registerStudForm.controls["ciLocation"]'
        [label]='"Home Town"'>
      </app-text-input>
      
      <ng-container class="form-group">
        <label class="control-label" style="margin-right: 10px"><u>Class Year: </u></label>
        <label class="radio-inline">
          <input type="radio" value='Freshman' formControlName="classYear"> Freshman
        </label>
        <label class="radio-inline">
            <input type="radio" value='Sophomore' formControlName="classYear" class="ml-2"> Sophomore
        </label>
        <label class="radio-inline">
            <input type="radio" value='Junior' formControlName="classYear" class="ml-2"> Junior
        </label>
        <label class="radio-inline">
            <input type="radio" value='Senior' formControlName="classYear" class="ml-2"> Senior
        </label>
      </ng-container>

      <!-- <div class="form-group"> 
      <label class="mr-2 filter"><strong> First select a major-category (requrired): </strong></label>
            <select class="form-control"
              formControllName="category"
            
              style="width: auto">
              <option class="text-center" value="">--Select Category--</option>
              <option *ngFor="let category of categories" 
                [value]="category.categoryName">
                {{category.categoryName | titlecase}}    
              </option>
            </select>
          </div>  -->
   
      <!-- <div class="form-group"> -->
       
      <h6 class="filter m-auto"><strong>First select major-category (required):</strong></h6>
        
      <select class="mr-2 mt-1 mb-1 form-control" 
      formControlName="category"
 
        style="width: auto">
        <option class="text-center" value="">--select major-category--</option>
        <option *ngFor="let category of categories"
            [value]="category.categoryName | titlecase">
            {{category.categoryName | titlecase}}
        </option>
    </select>
      
      <h6 class="filter m-auto mt-1 mb-1"><strong>Then re-select major-category & specific major<br>(both required):</strong></h6>
      
        <div class=" form-group form-inline"> 
         <select (change)="onSelect($event)" 
            class=" form-control form-inline mr-2"
            name="category"
            
            style="width: auto">
            <br><option class="text-center mb-2" #value="">--1st select category--</option>
            <option *ngFor="let category of categories"
                value="{{category.categoryId}}">
                {{category.categoryName | titlecase}}
            </option>
        </select>

        <select class="mr-2 mt-1 mb-1 form-control" 
        formControlName="major"
   
          style="width: auto">
          <option class="text-center" value="">--2nd select major--</option>
          <option *ngFor="let major of majors"
              [value]="major.majorName | titlecase">
              {{major.majorName | titlecase}}
          </option>
      </select>
      
          
        <!-- <select class="mr-2 mt-1 mb-1 form-control" 
          formControlName="category"
     
            style="width: auto">
            <option class="text-center" value="">--2nd select major--</option>
            <option *ngFor="let category of categories"
                [value]="category.categoryName">
                {{category.categoryName | titlecase}}
            </option>
        </select> -->
      

      <!-- <select class="mr-2 mt-1 mb-1 form-control" 
      formControlName="major"
 
        style="width: auto">
        <option class="text-center" value="">--2nd select major--</option>
        <option *ngFor="let major of majors"
            [value]="major.majorName">
            {{major.majorName | titlecase}}
        </option>
    </select> -->
  </div>
    

    <!-- <div class="form-group"> 
      <label class="mr-2 filter"><strong> First select a major-category: </strong></label>
            <select class="form-control"
              formControllName="category"
            
              style="width: auto">
              <option class="text-center" value="">--Select Category--</option>
              <option *ngFor="let category of categories" 
                [value]="category.categoryName">
                {{category.categoryName | titlecase}}    
              </option>
            </select>
          </div>  -->

        <h6 class="filter m-auto"><strong>Please select college/univerity (required):</strong></h6>
        
        <select 
          #scrolMe
              style="overflow: scroll; height: 300px; width: 450px;"
              [scrollTop]="scrolMe.scrollHeight"
              class="mr-2 mt-1 mb-1 form-control" 
              formControlName="college"
     
            style="width: auto">
            <option class="text-center" value="">--Select College--</option>
            <option *ngFor="let college of colleges"
                [value]="college.collegeName | titlecase">
                {{college.collegeNickname | titlecase}}
            </option>
        </select>    

      <!-- <app-text-input [formControl]='registerStudForm.controls["college"]'
        [label]='"College/University"'>
      </app-text-input> -->

      <app-date-input [formControl]='registerStudForm.controls["gradDate"]'
      [label]='"Graduation Date (approx)"'>
    </app-date-input>

    <div class="row" *ngIf="validationErrors.length > 0" >
      <ul class="text-danger">
          <li  *ngFor="let error of validationErrors">
              {{error}}
          </li>
      </ul>
    </div>  

      <div class="btn-group d-flex">
        <!-- <button [disabled]="!loginForm.valid" type="submit" class="btn btn-primary">Login</button> -->
        <button [disabled]="!registerStudForm.valid" type="submit" class="btn btn-info mr-1 shadow-sm">Sign Up</button>
        <input type="button" class="btn btn-secondary shadow-sm ml-1" (click)="cancel()" value="Cancel" />
      </div>

    </form>
  
  </div>
</section>
  
