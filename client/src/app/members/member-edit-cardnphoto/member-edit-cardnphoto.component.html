<!-- <div class="container-fluid"> -->

<div class="row shadow" *ngIf="member" style="margin-left: 0px">
    <div class="text-center">
        <h2><strong>Edit Card Info and Add/Edit Photo</strong></h2>
    </div>
    <div class="text-center">
        <div class="alert alert-info" *ngIf="editForm.dirty">
            <strong>Alert: </strong>You have made changes to the card. Any unsaved changes will be lost
        </div>
    </div>

    <div class="col-sm-4 p-0">
        <div class="card" style="align-items: center">
            <img src="{{member.studentUrl || '../../assets/images/person.png'}}" alt="{{member.firstName}}"
                class="card-img-top img-studthumbnail">
            <div class="card-body text-center">
                <p>
                    <u><strong>-- {{member.firstName}} {{member.lastName}} --</strong></u>
                    <br><strong>{{member.classYear}} {{member.major}} Major</strong>
                    <br><strong>({{member.category}} Major)</strong>
                    <br> from <br>
                    <strong>{{member.ciLocation}}</strong>
                    <br> attending <br>
                    <strong>{{member.college}}</strong>
                    <br> Profile Created: <br>
                    <strong>{{member.created | date: "MMM dd yyyy" }}</strong>
                    <br> Last Active: <br>
                    <strong>{{member.lastActive | date: "MMM dd yyyy" }}</strong>
                </p>

                <div class="btn-group d-flex">
                    <!-- <button class="btn btn-primary mr-2">Possible Fit</button> -->
                    <button [disabled]="!editForm.dirty" form="editForm" type="submit"
                        class="btn btn-info shadow-sm mr-1">Save Card Changes</button>
                    <button class="btn btn-success shadow-sm ml-1" routerLink='/studinfo/edit'>Add/Edit Student
                        Info</button>
                </div>
                    <button class="btn btn-primary btn-block shadow-sm mt-2" routerLink='/positionslist'>See positions</button>
            </div>
        </div>
    </div>

    <div class="col-sm-8 p-2">
        <tabset class="member-tabset" #memberTabs>
            <tab heading='Add/Edit Photo'>
                <app-photo-editor [member]="member"></app-photo-editor>
            </tab>
            
            
            <tab heading='Edit Card Info' class="tab-heading">
                <form #editForm="ngForm" id="editForm" (ngSubmit)="updateMemberCard()">
                    <div class="details mb-3">
                        
                        <div class="form-group">
                            <label>Class Year (click button to update class year)</label>
                            <div class="form-control">
                                <label class="radio-inline mr-2">
                                    <input type="radio" [(ngModel)]="member.classYear" name="classYear" value="Freshman">
                                    Freshman
                                </label>
                                <label class="radio-inline mr-2">
                                    <input type="radio" [(ngModel)]="member.classYear" name="classYear" value="Sophomore">
                                    Sophomore
                                </label>
                                <label class="radio-inline mr-2">
                                    <input type="radio" [(ngModel)]="member.classYear" name="classYear" value="Junior">
                                    Junior
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" [(ngModel)]="member.classYear" name="classYear" value="Senior">
                                    Senior
                                </label>
                            </div>
                        </div>

                        <!-- <label for="category"><strong>Major-Category: </strong></label>
                        <input [(ngModel)]="member.category" type="text" name="category" class="form-control mb-2">
                        <label for="major"><strong>Major: </strong></label>
                        <input [(ngModel)]="member.major" type="text" name="major" class="form-control mb-2">
                        <label for="ciLocation"><strong>Hometown: </strong></label>
                        <input [(ngModel)]="member.ciLocation" type="text" name="ciLocation" class="form-control mb-2"> -->
                        
                        <div class="form-group">
                            <label for="college">
                                College/University (click box to update college/university)
                            </label>
                            <select name="college" id="college" 
                                    [(ngModel)]="member.college" class="form-control">
                                <!-- <option class="text-center" value="">-- select college --</option> -->
                                <option *ngFor="let college of colleges" 
                                    [value]="college.collegeName">
                                    {{college.collegeName}}
                                </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="category">
                                Major-Category (click box to update major-category)
                            </label>
                            <select name="category" id="category" 
                                    [(ngModel)]="member.category" class="form-control">
                                <!-- <option class="text-center" value="">-- select college --</option> -->
                                <option *ngFor="let category of categories" 
                                    [value]="category.categoryName">
                                    {{category.categoryName}}
                                </option>
                            </select>
                        </div>

                        <label>Major (1st re-select major-category then click box to update major</label>
                  
                        <div class=" form-group form-inline">
                          <select (change)="onSelect($event)" class=" form-control form-inline mr-2" name="category" style="width: auto">
                            <br>
                            <option class="text-center" #value="">-- 1st Select Major-Category --</option>
                            <option *ngFor="let category of categories" value="{{category.categoryId}}">
                              {{category.categoryName}}
                            </option>
                          </select>
                  
                          <select class="mr-2 mt-1 form-control" name="major" id="major"
                                [(ngModel)]="member.major">
                            <option class="text-center" value="">-- 2nd Select Major --</option>
                            <option *ngFor="let major of majors" [value]="major.majorName | titlecase">
                              {{major.majorName | titlecase}}
                            </option>
                          </select>
                        </div>

                        <!-- <div class="form-group">
                            <label for="major">
                                Major (click box to see other options)
                            </label>
                            <select name="major" id="major" 
                                    [(ngModel)]="member.major" class="form-control">
                                    <option *ngFor="let major of majors" 
                                    [value]="major.majorName">
                                    {{major.majorName}}
                                </option>
                            </select>
                        </div> -->
                        
                    </div>
                </form>
            </tab>
    
        </tabset>
    </div>
    

